<dfm-sub-header></dfm-sub-header>
<div class="basic-details-progress-bar d-flex justify-content-center mt-3">
    <div *ngIf="displayExamDetails">
        <button class="progress-button bg-success text-white">Basic Details</button>
    </div>
    <div *ngIf="displayExamDetails">
        <hr class="progress-bar-hr bg-success">
    </div>
    <div>
        <button class="progress-button bg-primary text-white">Select Exam</button>
    </div>
    <div>
        <hr class="progress-bar-hr bg-primary">
    </div>
    <div>
        <button class="progress-button">Select Time Slot</button>
    </div>
    <div>
        <hr class="progress-bar-hr bg-primary">
    </div>
    <div>
        <button class="progress-button">Confirm</button>
    </div>
</div>
<div class="container-fluid d-flex">

    <div class="sidebar-menu bg-primary" *ngIf="!displayExamDetails">
        <div class="sidebar-menu-items">
            <div class="menu-item d-flex">
                <img src="../../../../../assets/images/home-icon.svg" alt="home-icon">
                <span class="display-5  active-menu text-decoration-none">Dashboard</span>
            </div>
            <div class="menu-item d-flex" routerLink="/appointment">
                <img src="../../../../../assets/images/calendar_icon.svg" alt="calendar-icon">
                <span class="display-5 text-decoration-none">My appointments</span>
            </div>
            <div class="menu-item d-flex float-left" routerLink="/profile">
                <img src="../../../../../assets/images/user_icon.svg" alt="user-icon">
                <span class="display-5 text-decoration-none">Profile</span>
            </div>
            <div class="menu-item d-flex">
                <img src="../../../../../assets/images/logout_icon.svg" alt="logout-icon">
                <span class="display-5 text-decoration-none">Logout</span>
            </div>
        </div>
    </div>
    
    <div class="container p-3 mt-3 bg-white" [formGroup]="examForm">
        <div class=" p-3 exam-container d-flex flex-row">
            <div class="left-container">
                <div class="form-group">
                    <dfm-input-dropdown [items]="physician" (searchInput)="searchInput($event)" label="Referring Physician*"
                        placeholder="Enter physician name" size="md">
                        {{items.name}}
                    </dfm-input-dropdown>
                </div>
    
                <div class="input mt-4">
                    <span class="select-exam-detail">Select exam(s) below</span>
                    <div class="exam d-flex flex-column" formArrayName="credentials">
                        <div class="exam-static d-flex">
                            <dfm-input-dropdown [items]="items" [formControl]="examName" label="Exam*"
                                placeholder="Select Exam" size="md">
                                {{items.name}}
                            </dfm-input-dropdown>
                            <div style="width: 20px; height: 20px; margin-top: 42px; cursor: pointer;" class="mx-2"
                                *ngIf="examName.value !== ''" (click)="resetForm()"><dfm-icon
                                    [name]="'trash-01'"></dfm-icon>
                            </div>
                        </div>
                        <div class="exam-input d-flex" *ngFor="let creds of getControls(); let i = index">
                            <dfm-input-dropdown [items]="items" [formControl]="examName" label="Exam*"
                                placeholder="Select Exam" size="md">
                                {{items.name}}
                            </dfm-input-dropdown>
                            <div style="width: 20px; height: 20px; margin-top: 42px; cursor: pointer;" class="mx-2"
                                *ngIf="examName.value !== ''" (click)="removeExam(i); examForm.reset()"><dfm-icon
                                    [name]="'trash-01'"></dfm-icon>
                            </div>
                        </div>
                    </div>
    
                </div>
            </div>
            <div class="right-container">
                <div class="mx-3 exam-text-area">
                    <dfm-text-area [label]="'Comments'" [placeholder]="'Enter Comments'"></dfm-text-area>
                </div>
            </div>
        </div>
        <div class="d-flex justify-content-center mt-3">
            <dfm-button [color]="'link'" [size]="'2xl'" [leadingIcon]="'plus'" (click)="addCreds()">
                Click to add more exam
            </dfm-button>
        </div>
    </div>
</div>



<div class="d-flex justify-content-center mt-3">
    <dfm-button [color]="'primary'" [size]="'lg'" routerLink="/schedule-appointment/date-time">
        Next
    </dfm-button>
</div>

<div class="fixed-bottom">
    <dfm-footer></dfm-footer>
</div>